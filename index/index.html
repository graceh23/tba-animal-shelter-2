<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> TBA - The Better Animal Association</title>
    <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
    <header>
        <h1>The Better Animal Association</h1>
        <nav>
          <a href="../index/index.html">Home</a>
          <a href="../about/index.html">About</a>
          <a href="../adopt/index.html">Adopt</a>
          <a href="../login/index.html">Employee Login</a>
        </nav>
    </header>

    <main>
        <h1> Welcome to TBA!</h1>
        <p> TBA is dedicated to caring for and helping animals in need.</p>

        <br>
        
        <section class="home-img">
            
            <img src="../images/home.jpg" class="home-img" />
        </section>
        <br>

        <br>
        <h2>Meet Our Animals!</h2>

        <section class="filters" id="filters">
            <!-- Not working yet -->
            <button>All</button>
            <button>Cats</button>
            <button>Dogs</button>
            <button>Special Needs</button>
            <button>Other</button>
        </section>

        <br>

        <section class="animal-list" id="animal-list">
            <!-- Animal list will be populated dynamically from localStorage -->
        </section>
    </main>

    <footer>
        <p>&copy; 2025 TBA - The Better Animal Association</p>
    </footer>

    <script>
        // Retrieve animals from localStorage
        const storedAnimals = JSON.parse(localStorage.getItem("animals")) || [];
    
        const animalList = document.getElementById("animal-list");
    
        // Function to display animals and link to their individual pages
        function displayAnimals() {
            animalList.innerHTML = "";
            storedAnimals.forEach((animal, index) => {
                const animalCard = document.createElement("article");
                animalCard.classList.add("animal-card");
    
                // If image exists, show it
                let imageHtml = animal.image ? `<img src="${animal.image}" alt="Animal Image" />` : `<img src="images/default-animal.jpg" alt="Default Animal Image" />`;
    
                // Link the animal card to the generated animal details page
                const animalPageLink = `details/${animal.name.toLowerCase().replace(/\s+/g, '-')}-details.html`;
    
                animalCard.innerHTML = `
                    <a href="${animalPageLink}">
                        ${imageHtml}
                        <h3>${animal.name}</h3>
                        <p>${animal.breed} • ${animal.age} years old • ${animal.species}</p>
                    </a>
                `;
                animalList.appendChild(animalCard);
            });
        }
    
        // Initial display of animals
        displayAnimals();
    </script>
</body>
</html>
